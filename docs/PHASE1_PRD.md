# 阶段一：知识星球下载器桌面版 (MVP) 需求文档

## 1. 产品概述
**目标用户**：需要批量下载知识星球文件的非技术背景用户。
**核心价值**：提供“傻瓜式”的操作体验，无需配置 Python 环境，无需敲命令行，通过图形界面一键下载。

## 2. 功能列表

### 2.1 账号登录
- **内嵌浏览器登录**：
  - 点击“登录”按钮，弹出一个独立的浏览器窗口（Playwright 视图）。
  - 用户在窗口中扫码或输入账号密码。
  - 登录成功后（检测到登录态），窗口自动关闭或提示“登录成功”。
- **自动登录**：
  - 软件启动时自动检测本地 `browser_data`，若 Cookie 有效则直接进入主界面。

### 2.2 星球订阅管理
- **侧边栏列表**：
  - 自动获取并展示已订阅的星球列表。
  - 列表项包含：星球名称。
  - 支持手动刷新列表。
- **选择星球**：
  - 点击侧边栏星球，右侧主区域加载该星球的下载配置。

### 2.3 任务配置 (主区域)
- **下载路径设置**：
  - 显示当前下载目录。
  - 提供“浏览...”按钮选择本地文件夹。
- **下载数量限制**：
  - 下拉框或输入框选择：10 / 50 / 100 / 全部。
- **文件类型过滤** (可选 MVP+)：
  - 复选框：PDF, Word, 音频, 压缩包。

### 2.4 任务执行与监控
- **控制按钮**：
  - “开始下载”、“停止”。
- **进度展示**：
  - 总体进度条 (已完成/总数)。
  - 当前正在下载的文件名。
- **日志面板**：
  - 滚动展示操作日志（如：“正在获取文件列表...”、“成功下载：xxx.pdf”）。
  - 错误提示（红色高亮）。

## 3. 用户交互流程 (User Journey)

1.  **启动**：用户双击 `.exe` 图标打开软件。
2.  **登录**：
    *   若未登录，显示“请先登录”引导页。
    *   用户点击登录 -> 扫码 -> 成功进入主界面。
3.  **选择**：
    *   左侧点击“老齐的读书圈”。
    *   右侧确认下载路径。
4.  **执行**：
    *   点击“开始下载”。
    *   软件自动采集文件列表 -> 逐个下载。
    *   界面实时反馈进度。
5.  **完成**：
    *   弹出通知“下载完成”。
    *   提供“打开下载文件夹”按钮。

## 4. 非功能需求
- **易用性**：界面简洁，无多余技术术语。
- **兼容性**：优先支持 Windows 10/11，次选 macOS。
- **稳定性**：网络超时或下载失败时应有重试或跳过机制，不导致软件崩溃。
- **安全性**：本地存储登录凭据，不上传任何数据到服务器。
